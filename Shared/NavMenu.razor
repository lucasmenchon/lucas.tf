@inject BlazorWebProfile.Models.ThemeService ThemeService
@inject IScrollManager ScrollManager

<MudThemeProvider @bind-IsDarkMode="ThemeService.DarkMode" Theme="ThemeService.CustomTheme" />

<MudAppBar Fixed="true" Dense="true" Color="Color.Inherit" Elevation="2">
    <MudContainer Class="d-flex justify-center gap-1">
        <MudItem>
            <MudButton OnClick="@(() => ScrollToClassAsync(".about"))" Color="Color.Inherit" Variant="Variant.Text" Size="Size.Small">Sobre</MudButton>
        </MudItem>
        <MudItem>
            <MudButton OnClick="@(() => ScrollToClassAsync(".experience"))" Color="Color.Inherit" Variant="Variant.Text" Size="Size.Small">Experiência</MudButton>
        </MudItem>
        <MudItem>
            <MudButton OnClick="@(() => ScrollToClassAsync(".projects"))" Color="Color.Inherit" Variant="Variant.Text" Size="Size.Small">Projetos</MudButton>
        </MudItem>
        <MudItem>
            <MudButton OnClick="@(() => ScrollToClassAsync(".contact"))" Color="Color.Inherit" Variant="Variant.Text" Size="Size.Small">Contato</MudButton>
        </MudItem>
        <MudIconButton Class="@($"p-0 sun-moon-toggle {(ThemeService.DarkMode ? "night-mode" : "")}")"
                       OnClick="ThemeService.ToggleTheme"
                       Icon="@(ThemeService.DarkMode ? Icons.Material.Filled.LightMode : Icons.Material.Filled.ModeNight)"
                       Color="Color.Inherit" Size="Size.Small" />
    </MudContainer>
</MudAppBar>

@code {
    public async Task ScrollToClassAsync(string targetClass)
    {
        await ScrollManager!.ScrollIntoViewAsync($"{targetClass}", MudBlazor.ScrollBehavior.Smooth);
    }
}
